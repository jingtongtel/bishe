<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <script src="jquery-3.1.1.js"></script>
  <script>
	var defPostOpts={
		  /*
		  url: "http://127.0.0.1:8080/demo/json",
		  method: 'post',
		  contentType: 'application/json',
		  dataType:"json",
		  //dataType:'JSONP',
		  data: JSON.stringify({
				"zipcode":97201,
				"myarray":[1,2,3,4,5],
				"obj":{
					"objInner":{
						"name":"张晨","weight":170
						}
				}
				}),
		  */
		  dataType:"json",
		  success: function(result) {
			//alert(result);
			$("#responseContent").html( "<strong>" + JSON.stringify(result) + "</strong>" );
		  },
		  error:function(jqXHR,errTypeStr){
			$("#responseContent").html( "<strong> Status Code:<font color='red'>" +jqXHR.status+"</font><br />"+JSON.stringify(jqXHR) + "</strong>" );
		  }
	}

	function postServer(){
		$("#responseContent").html("");
		var mf = document.myForm;
		var newPostOpts = {};
		newPostOpts.url = mf.myUrl.value;
		newPostOpts.method = mf.method.value;
		newPostOpts.contentType = mf.contentType.value;
		newPostOpts.data = mf.jsonData.value;

		$.ajax($.extend(defPostOpts,newPostOpts));
	}
	
	function dbjson(){
		var sql = document.myForm.sqlTa.value;
		sql = encodeURI(sql);
		data = {"sql":sql}
		alert(sql);
		var url = "http://127.0.0.1/8080/demo/dbjson";
		$.post(url,data,function(data) {
		  $("#responseContent").html( data );
		});
	}

	$(function(){
		postServer();
	})
	

	function openwin() { 
		//写成一行 
		window.open ("InterfaceDocumentation01.htm", "newwindow", " toolbar=no,menubar=no, scrollbars=no, resizable=no, location=no, status=no") 
	}		 
 

 
  </script>
 </head>
 <body>
	<form name="myForm">
	  url :<input type="txt" name="myUrl" value="http://localhost:9090/mbd/v01/metric/population/region" style="width:80%" />
	  <br />
	  method :
	  <select name="method">
		<option value="post">post</option>
		<option value="get">get</option>
	  </select>
	  <br />
	  contentType :
	  <select name="contentType">
		<option value="application/json">application/json</option>
		<option value="text/plain">text/plain</option>
	  </select>
	  <br />
	  jsonData:
	  	  <textarea  name="jsonData" value='{
    "para": {
        "dataView": "default",
        "userType": "1",
         "regionType":1,
        "subRegionCode": [
            "013006",
            "013005"
        ],
        " workCode": "1",
        "homeCode": "1",
        "belongCode": "1",
        "timeSize": "4",
        "timeObj": {
            "format": "yyyyMMW",
            "vals": [
                "2017031",
                "2017034",
                "2017011",
                "2017022"
            ]
        }
    }
}
}' style="width:50%;height:160px;"  ></textarea>

	  <br />

	  <input type="button" value="postServer" onclick="postServer();" />
	  <br />
{
    "para": {
        "dataView": "default",
        "userType": "1",
         "regionType":1,
        "subRegionCode": [
            "013006",
            "013005"
        ],
        " workCode": "1",
        "homeCode": "1",
        "belongCode": "1",
        "timeSize": "4",
        "timeObj": {
            "format": "yyyyMMW",
            "vals": [
                "2017031",
                "2017034",
                "2017011",
                "2017022"
            ]
        }
    }
}
<br />
	 
	  <br />
	
	   <a href="#" onclick="openwin()">接口文档</a> 
	  <hr>
  </form>
  <div id="responseContent"></div>
  
 
 </body>
</html>
